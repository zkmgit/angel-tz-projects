{"version":3,"sources":["uni-app:///main.js","webpack:///D:/2020-毕业项目/temp/angel-tz-projects/pages/confirmOrder/confirmOrder.vue?4cd7","webpack:///D:/2020-毕业项目/temp/angel-tz-projects/pages/confirmOrder/confirmOrder.vue?16bd","webpack:///D:/2020-毕业项目/temp/angel-tz-projects/pages/confirmOrder/confirmOrder.vue?2b08","webpack:///D:/2020-毕业项目/temp/angel-tz-projects/pages/confirmOrder/confirmOrder.vue?26ec","uni-app:///pages/confirmOrder/confirmOrder.vue","webpack:///D:/2020-毕业项目/temp/angel-tz-projects/pages/confirmOrder/confirmOrder.vue?5596","webpack:///D:/2020-毕业项目/temp/angel-tz-projects/pages/confirmOrder/confirmOrder.vue?6939"],"names":["createPage","Page"],"mappings":"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","file":"pages/confirmOrder/confirmOrder.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/confirmOrder/confirmOrder.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./confirmOrder.vue?vue&type=template&id=048afac6&\"\nvar renderjs\nimport script from \"./confirmOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./confirmOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./confirmOrder.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/confirmOrder/confirmOrder.vue\"\nexport default component.exports","export * from \"-!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./confirmOrder.vue?vue&type=template&id=048afac6&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./confirmOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./confirmOrder.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"confirm-order\">\r\n\t\t\r\n\t\t<van-popup\r\n\t\t  round\r\n\t\t  :show=\"show\"\r\n\t\t  position=\"bottom\"\r\n\t\t  custom-style=\"height: 50%;\"\r\n\t\t  @close=\"onClose\"\r\n\t\t>\r\n\t\t\t<!-- <button @click=\"onClose\">取消</button> -->\r\n\t\t\t<!-- <button @click=\"onClose\">确定</button> -->\r\n\t\t\t<view class=\"cancel\" @click=\"cancel\">\r\n\t\t\t\t取消\r\n\t\t\t</view>\r\n\t\t\t<view class=\"determine\" @click=\"determine\">\r\n\t\t\t\t确定\r\n\t\t\t</view>\r\n\t\t\t<van-picker :columns=\"columns\" @change=\"onChange\" />\r\n\t\t</van-popup>\r\n\t\t<!-- 购物车 -->\n\t\t<view class=\"car-container\">\r\n\t\t\t<view class=\"item\" v-for=\"item in carList\" :key=\"item.id\">\r\n\t\t\t\t<view class=\"img\">\r\n\t\t\t\t\t<image :src=\"item.showImg\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info\">\r\n\t\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t\t{{ item.goods_name }}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"price\">\r\n\t\t\t\t\t\t<view class=\"totalPrice\">\r\n\t\t\t\t\t\t\t￥{{ item.goods_price }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"count\">\r\n\t\t\t\t\t\t\tx {{ item.num }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t</view>\n\t\r\n\t\t<!-- 配送方式 -->\r\n\t\t<view class=\"delivery\">\r\n\t\t\t<view class=\"mode\">\r\n\t\t\t\t<text class=\"color\">配送方式</text>\r\n\t\t\t\t<view class=\"btn\">\r\n\t\t\t\t\t<van-checkbox\r\n\t\t\t\t\t  :value=\"checked\"\r\n\t\t\t\t\t  checked-color=\"#07c160\"\r\n\t\t\t\t\t  bind:change=\"onChange\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t  快递\r\n\t\t\t\t\t</van-checkbox>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"line\">\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t\t<view class=\"addr\" @click=\"goAddAddr\" v-if=\"isShow\">\r\n\t\t\t\t<image class=\"img\" src=\"/static/images/confirmOrder/add.png\" mode=\"\"></image>\r\n\t\t\t\t<text>新增收货地址</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"addr-item\" @click=\"goUserAddr\" v-else>\r\n\t\t\t\t<view class=\"addr-info\">\r\n\t\t\t\t\t<view class=\"name\">\r\n\t\t\t\t\t\t<view class=\"size\">{{ item.receiver }}</view><view class=\"\">{{ item.phone }}</view> \r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"street\">\r\n\t\t\t\t\t\t{{ item.address }}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"img\">\r\n\t\t\t\t\t<image src=\"../../static/images/userAddr/right.png\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"line\">\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t\t<view class=\"mark\">\r\n\t\t\t\t <van-field\r\n\t\t\t\t\tlabel=\"备注\"\r\n\t\t\t\t    value=\"\"\r\n\t\t\t\t    placeholder=\"如需备注请输入\"\r\n\t\t\t\t    border=\"false\"\r\n\t\t\t\t    bind:change=\"onChange\"\r\n\t\t\t\t  />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 优惠卷 -->\r\n\t\t<view class=\"coupon\">\r\n\t\t\t<view class=\"text\">\r\n\t\t\t\t使用优惠卷\r\n\t\t\t</view>\r\n\t\t\t<van-cell :title=\"title\" is-link @click=\"showPopup\" />\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- info -->\r\n\t\t<view class=\"info\">\r\n\t\t\t<van-cell title=\"商品小计\" :value=\"total\" />\r\n\t\t\t<van-cell title=\"运费\"  value=\"0\" />\r\n\t\t\t<van-cell title=\"优惠金额\"  :value=\"discountMoney\" />\r\n\t\t</view>\r\n\t\t<!-- footer -->\r\n\t\t<view class=\"footer\">\r\n\t\t\t<text class=\"total\">合计：</text>\r\n\t\t\t<view class=\"red\">\r\n\t\t\t\t￥<text class=\"size\">{{ num }}</text> \r\n\t\t\t</view>\r\n\t\t\t<text>+0 积分</text>\r\n\t\t\t<view class=\"btn\" @click=\"generateOrders\">\r\n\t\t\t\t提交订单\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\n</template>\n\n<script>\r\n\timport { getPreferentialDatas } from '../../api/coupon.js';\r\n\timport { allAddr } from '../../api/addr.js';\r\n\timport { addOrder } from '../../api/order.js';\r\n\timport { delShoppingCar } from '../../api/shopingCar.js';\n\texport default {\n\t\tdata() {\n\t\t\treturn {\r\n\t\t\t\tisShow: true,\r\n\t\t\t\t// 默认使用倒序的地址\r\n\t\t\t\titem: {},\r\n\t\t\t\t// 合计\r\n\t\t\t\tnum:0,\r\n\t\t\t\t// 保存当前优惠的数组\r\n\t\t\t\tdiscountArr: [],\r\n\t\t\t\t// 优惠金额使用优惠卷后\r\n\t\t\t\tdiscountMoney:0,\r\n\t\t\t\ttotal:'',\r\n\t\t\t\t// 获取要结算的购物车数据\r\n\t\t\t\tcarList: [],\n\t\t\t\tchecked:true,\r\n\t\t\t\tdiscount:'请选择使用优惠卷',\r\n\t\t\t\ttitle:'请选择使用优惠卷',\r\n\t\t\t\tshow:false,\r\n\t\t\t\tcolumns: [],\r\n\t\t\t\t// 当前优惠的价钱\n\t\t\t};\n\t\t},\r\n\t\tonLoad(e){\r\n\t\t\tconsole.log('list',e);\r\n\t\t\tconsole.log(JSON.parse(e.carList));\r\n\t\t\tthis.total = e.total;\r\n\t\t\tthis.num = e.total;\r\n\t\t\tthis.carList = JSON.parse(e.carList);\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getAllCoupon();\r\n\t\t\tthis.getDefaultAddr();\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tasync delCar(ids){\r\n\t\t\t\tlet { token } = uni.getStorageSync('token');\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\ttoken,\r\n\t\t\t\t\tids\r\n\t\t\t\t}\r\n\t\t\t\tawait delShoppingCar(data);\r\n\t\t\t},\r\n\t\t\tasync getDefaultAddr(){\r\n\t\t\t\tlet { token } = uni.getStorageSync('token');\r\n\t\t\t\tlet res = await allAddr(token);\r\n\t\t\t\tconsole.log('地址',res.status);\r\n\t\t\t\tif(res.status == 200){\r\n\t\t\t\t\tthis.item = res.message[0];\r\n\t\t\t\t\tthis.isShow = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgoUserAddr(){\r\n\t\t\t\t// 前往用户地址\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'../userAddr/userAddr'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync generateOrders(){\r\n\t\t\t\t// 提交订单\r\n\t\t\t\t// 订单号\r\n\t\t\t\tlet { token } = uni.getStorageSync('token');\r\n\t\t\t\tlet order_number = new Date().getTime();\r\n\t\t\t\t// 商品总金额，实付金额，商品数量，所有购物车id，收件人，详细地址,地区\r\n\t\t\t\tlet goods_total,total_price,goods_ids,recipient,addr,area;\r\n\t\t\t\tlet total_count = 0;\r\n\t\t\t\tlet arr = [];\r\n\t\t\t\t// 实付金额\r\n\t\t\t\ttotal_price = this.num;\r\n\t\t\t\t// 商品总金额\r\n\t\t\t\tgoods_total = this.total;\r\n\t\t\t\t// 所有的购物车\r\n\t\t\t\tthis.carList.map(v=>{\r\n\t\t\t\t\t// 拼接购物车ids\r\n\t\t\t\t\tarr.push(v.id);\r\n\t\t\t\t\t// 商品数量\r\n\t\t\t\t\tconsole.log(v)\r\n\t\t\t\t\ttotal_count += parseInt(v.num);\r\n\t\t\t\t})\r\n\t\t\t\tgoods_ids = arr.join(',');\r\n\t\t\t\t// 收件人\r\n\t\t\t\trecipient = this.item.receiver;\r\n\t\t\t\t// 详细地址\r\n\t\t\t\taddr = this.item.address;\r\n\t\t\t\t// 地区\r\n\t\t\t\tarea = this.item.area;\r\n\t\t\t\t// 生成订单\r\n\t\t\t\tlet order = {\r\n\t\t\t\t\torder_number,\r\n\t\t\t\t\tgoods_total,\r\n\t\t\t\t\ttotal_price,\r\n\t\t\t\t\ttotal_count,\r\n\t\t\t\t\tgoods_ids,\r\n\t\t\t\t\trecipient,\r\n\t\t\t\t\taddr,\r\n\t\t\t\t\tarea,\r\n\t\t\t\t\ttoken\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(order);\r\n\t\t\t\tlet res = await addOrder(order);\r\n\t\t\t\tif(res.status == 200){\r\n\t\t\t\t\t// 删除购物车\r\n\t\t\t\t\tawait this.delCar(goods_ids);\r\n\t\t\t\t\t// delShoppingCar\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl:'../orderList/orderList?status=all'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync getAllCoupon(){\r\n\t\t\t\t// 获取所有优惠卷\r\n\t\t\t\tlet res = await getPreferentialDatas();\r\n\t\t\t\tres.map(v=>{\r\n\t\t\t\t\tthis.columns.push(`${v.title}[${v.condition}元可减${v.money}元]`)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoAddAddr(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'../editAddr/editAddr'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdetermine(){\r\n\t\t\t\t// 选中优惠并退出\r\n\t\t\t\tthis.onClose();\r\n\t\t\t\tthis.title = this.discount;\r\n\t\t\t\t// 清空当前保存优惠的数组\r\n\t\t\t\tthis.discountArr.length = 0;\r\n\t\t\t\t\r\n\t\t\t\tvar reg = /(\\d+)+/gi;\r\n\t\t\t\tlet r;\r\n\t\t\t\twhile (r = reg.exec(this.title)) {\r\n\t\t\t\t\tthis.discountArr.push(r[1])\r\n\t\t\t\t}\r\n\t\t\t\t// 若当前总价钱大于优惠卷金额，则进行满减\r\n\t\t\t\tif(parseInt(this.total) > parseInt(this.discountArr[0])){\r\n\t\t\t\t\t// 合计重新赋值，重新计算\r\n\t\t\t\t\tthis.num = this.total;\r\n\t\t\t\t\tthis.num = parseInt(this.total) - parseInt(this.discountArr[1]);\r\n\t\t\t\t\tthis.discountMoney = parseInt(this.discountArr[1]);\r\n\t\t\t\t}\r\n\t\t\t\t// discountMoney\r\t\t\t},\r\n\t\t\tcancel(){\r\n\t\t\t\t// 取消并退出\r\n\t\t\t\tthis.onClose();\r\n\t\t\t},\r\n\t\t\tshowPopup() {\r\n\t\t\t\t// 弹出层显示\r\n\t\t\t\tthis.show = true;\r\n\t\t\t },\r\n\t\t\t\r\n\t\t\t onClose() {\r\n\t\t\t\t// 点击空白处关闭\r\n\t\t\t\tthis.show = false;\r\n\t\t\t },\r\n\t\t\t onChange(event) {\r\n\t\t\t\t console.log(event);\r\n\t\t\t     const { picker, value, index } = event.detail;\r\n\t\t\t     console.log(`当前值：${value}, 当前索引：${index},${picker}`);\r\n\t\t\t\tthis.discount = value;\r\n\t\t\t   },\r\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t.confirm-order {\r\n\t\tbackground-color: #F2F2F2;\r\n\t\tfont-size: 26rpx;\r\n\t\tpadding-bottom: 120rpx;\r\n\t\t\r\n\t\t\r\n\t\t.car-container{\r\n\t\t\tbackground-color: #FAFAFA;\r\n\t\t\t\r\n\t\t\t.item {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\tpadding: 15rpx 20rpx;\r\n\t\t\t\t\r\n\t\t\t\t.img {\r\n\t\t\t\t\twidth: 150rpx;\r\n\t\t\t\t\theight: 150rpx;\r\n\t\t\t\t\t\r\n\t\t\t\t\timage {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.info {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t\t\t\r\n\t\t\t\t\t.title {\r\n\t\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\tdisplay: -webkit-box;\r\n\t\t\t\t\t\t-webkit-line-clamp: 2;\r\n\t\t\t\t\t\t-webkit-box-orient: vertical;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t.price {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t.totalPrice {\r\n\t\t\t\t\t\t\tcolor: #FF0000;\r\n\t\t\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\t\t\tfont-weight: 900;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.delivery {\r\n\t\t\tbackground-color: #FFFFFF;\r\n\t\t\tmargin-top: 20rpx;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\r\n\t\t\t.addr-item {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tborder-bottom: 1rpx solid #F0F0F0;\r\n\t\t\t\tpadding: 30rpx 20rpx;\r\n\t\t\t\t\r\n\t\t\t\t.addr-info {\r\n\t\t\t\t\t\r\n\t\t\t\t\t.name {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: flex-end;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t.size {\r\n\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t.street {\r\n\t\t\t\t\t\tmargin-top: 10rpx;\r\n\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\tcolor: #CBCBCB;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.img {\r\n\t\t\t\t\twidth: 35rpx;\r\n\t\t\t\t\theight: 35rpx;\r\n\t\t\t\t\tmargin-right: 30rpx;\r\n\t\t\t\t\t\r\n\t\t\t\t\timage {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.line {\r\n\t\t\t\tborder-top: 2rpx solid #EEEEEE;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.mode {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\tpadding: 30rpx 20rpx;\r\n\t\t\t\t\r\n\t\t\t\t.color{\r\n\t\t\t\t\tcolor: #666666;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.btn {\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.addr {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tpadding: 40rpx 20rpx;\r\n\t\t\t\t\r\n\t\t\t\t.img {\r\n\t\t\t\t\twidth: 40rpx;\r\n\t\t\t\t\theight: 40rpx;\r\n\t\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.mark {}\r\n\t\t}\r\n\t\r\n\t\t.info {\r\n\t\t\tmargin-top: 20rpx;\r\n\t\t}\r\n\t\t\r\n\t\t.coupon {\r\n\t\t\tbackground-color: #FFFFFF;\r\n\t\t\t\t\t\t\r\n\t\t\t.text {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tpadding: 20rpx 30rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.footer {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tposition: fixed;\r\n\t\t\tbottom: 0;\r\n\t\t\tbackground-color: #FFFFFF;\r\n\t\t\twidth: 100vw;\r\n\t\t\tpadding: 10rpx 0;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\t\r\n\t\t\t.total {\r\n\t\t\t\tmargin-left: 200rpx;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.red {\r\n\t\t\t\tcolor: #FF0000;\r\n\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t\t\r\n\t\t\t\t.size {\r\n\t\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\t\tfont-size: 900;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.btn {\r\n\t\t\t\tbackground-color: #FF0000;\r\n\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t\twidth: 200rpx;\r\n\t\t\t\theight: 80rpx;\r\n\t\t\t\tborder-radius: 50rpx 50rpx 50rpx 50rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tline-height: 80rpx;\r\n\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t.van-popup {\r\n\t\t\t// position: relative;\r\n\t\t\t\r\n\t\t\t.cancel {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: 8%;\r\n\t\t\t\tleft: 22%;\r\n\t\t\t\tbackground-color: #F4F5F9;\r\n\t\t\t\tcolor: #0AE84D;\r\n\t\t\t\twidth: 200rpx;\r\n\t\t\t\theight: 80rpx;\r\n\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tline-height: 80rpx;\r\n\t\t\t\tz-index: 10;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.determine {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: 8%;\r\n\t\t\t\tleft: 53%;\r\n\t\t\t\tbackground-color: #0AE84D;\r\n\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t\twidth: 200rpx;\r\n\t\t\t\theight: 80rpx;\r\n\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tline-height: 80rpx;\r\n\t\t\t\tz-index: 10;\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</style>\n","import mod from \"-!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./confirmOrder.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX.2.8.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./confirmOrder.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1603372833372\n      var cssReload = require(\"G:/HBuilderX.2.8.11/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}